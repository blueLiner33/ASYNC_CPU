; Linked by DLX-LD.
; MemSize 12288
; Data size: 256
; Text size: 524
; Stack size: 8192
.text 0x0000
.data 0x0800
;;; Ethan L. Miller, 1999.  Released to the public domain
;;;
;;; Most of the traps are called in files from libtraps.
.text
.align 2
.proc ___init_LF0
	lhi	r29,0x0000
	addui	r29,r0,0x0FFC
	add	r30,r29,r0
	jal	_main
	nop
.endproc ___init_LF0


.align 2
.proc _exit
.global _exit
_exit:
	trap	0x300
	jr	r31
	nop
.endproc _exit

; for the benefit of gcc.

.align 2
.proc ___main
.global ___main
___main:
	jr	r31
	nop
.endproc ___main

; Trap Handler

.align 7
___trap_LF0:
	nop
	nop
	nop
	beqz	r0,___trap_LF0
	nop
	nop
	nop
; Compiled by GCC

.align 2
.proc _anoi
.global _anoi
_anoi:
;  Function 'anoi'; 0 bytes of locals, 7 regs to save.
	sw	-4(r29),r30; push fp
	add	r30,r0,r29; fp = sp
	sw	-8(r29),r31; push ret addr
	subui	r29,r29,40; alloc local storage
	sw	0(r29),r2
	sw	4(r29),r3
	sw	8(r29),r4
	sw	12(r29),r5
	sw	16(r29),r6
	sw	20(r29),r7
	sw	24(r29),r8
	lh	r4,2(r30)
	lb	r7,7(r30)
	lb	r5,11(r30)
	lb	r8,15(r30)
	slli	r1,r4,16
	srai	r1,r1,16
	snei	r6,r1,1
	beqz	r6,L2_LF1
	nop; not filled.
	addi	r29,r29,-16
	addi	r1,r4,-1
	sh	2(r29),r1
	sb	7(r29),r7
	sb	11(r29),r8
	sb	15(r29),r5
	jal	_anoi
	nop; not filled.
	addi	r29,r29,16
L2_LF1:
	lhi	r3,((_moves)>>16)&0xffff
	addui	r3,r3,(_moves)&0xffff
	lhi	r2,((_index)>>16)&0xffff
	addui	r2,r2,(_index)&0xffff
	lw	r1,(r2)
	slli	r1,r1,0x2
	add	r1,r1,r3
	sh	(r1),r4
	sb	2(r1),r7
	lw	r1,(r2)
	slli	r1,r1,0x2
	add	r1,r1,r3
	sb	3(r1),r5
	lw	r1,(r2)
	addi	r1,r1,1
	sw	(r2),r1
	beqz	r6,L3_LF1
	nop; not filled.
	addi	r29,r29,-16
	addi	r1,r4,-1
	sh	2(r29),r1
	sb	7(r29),r8
	sb	11(r29),r5
	sb	15(r29),r7
	jal	_anoi
	nop; not filled.
	addi	r29,r29,16
L3_LF1:
	lw	r2,0(r29)
	lw	r3,4(r29)
	lw	r4,8(r29)
	lw	r5,12(r29)
	lw	r6,16(r29)
	lw	r7,20(r29)
	lw	r8,24(r29)
	lw	r31,-8(r30)
	add	r29,r0,r30
	lw	r30,-4(r30)
	jr	r31
	nop
.endproc _anoi
.align 2
.proc _main
.global _main
_main:
;  Function 'main'; 0 bytes of locals, 0 regs to save.
	sw	-4(r29),r30; push fp
	add	r30,r0,r29; fp = sp
	sw	-8(r29),r31; push ret addr
	subui	r29,r29,8; alloc local storage
	jal	___main
	nop; not filled.
	lhi	r1,((_index)>>16)&0xffff
	addui	r1,r1,(_index)&0xffff
	addi	r2,r0,0
	sw	(r1),r2
	addi	r29,r29,-16
	addi	r2,r0,6
	sh	2(r29),r2
	addi	r2,r0,(0x1)&0xff
	sb	7(r29),r2
	addi	r2,r0,(0x3)&0xff
	sb	11(r29),r2
	addi	r2,r0,(0x2)&0xff
	sb	15(r29),r2
	jal	_anoi
	nop; not filled.
	addi	r29,r29,16
	jal	_exit
	nop
.endproc _main
.data
.align 2
.global _index
_index:
.space 4
.align 1
.global _moves
_moves:
.space 252
.text
.global _etext
_etext:
.align 3
.data
.global _edata
_edata:
