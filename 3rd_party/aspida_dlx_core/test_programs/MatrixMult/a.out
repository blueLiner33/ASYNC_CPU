; Linked by DLX-LD.
; MemSize 12288
; Data size: 1200
; Text size: 968
; Stack size: 8192
.text 0x0000
.data 0x0800
;;; Ethan L. Miller, 1999.  Released to the public domain
;;;
;;; Most of the traps are called in files from libtraps.
.text
.align 2
.proc ___init_LF0
	lhi	r29,0x0000
	addui	r29,r0,0x0FFC
	add	r30,r29,r0
	jal	_main
	nop
.endproc ___init_LF0


.align 2
.proc _exit
.global _exit
_exit:
	trap	0x300
	jr	r31
	nop
.endproc _exit

; for the benefit of gcc.

.align 2
.proc ___main
.global ___main
___main:
	jr	r31
	nop
.endproc ___main

; Trap Handler

.align 7
___trap_LF0:
	nop
	nop
	nop
	beqz	r0,___trap_LF0
	nop
	nop
	nop
; Compiled by GCC

.align 2
.proc _mult
.global _mult
_mult:
;  Function 'mult'; 0 bytes of locals, 4 regs to save.
	sw	-4(r29),r30; push fp
	add	r30,r0,r29; fp = sp
	sw	-8(r29),r31; push ret addr
	subui	r29,r29,24; alloc local storage
	sw	0(r29),r2
	sw	4(r29),r3
	sw	8(r29),r4
	sw	12(r29),r5
	lw	r31,(r30)
	lw	r4,4(r30)
	addi	r5,r0,(0x0)&0xff
	addi	r3,r0,0
	slti	r1,r31,0
	beqz	r1,L2_LF1
	nop; not filled.
	addi	r5,r0,(0x1)&0xff
	sub	r31,r0,r31
L2_LF1:
	slti	r1,r4,0
	bnez	r1,L3_LF1
	nop; not filled.
	snei	r1,r4,0
	bnez	r1,L4_LF1
	nop; not filled.
	addi	r1,r0,0
	j	L13_LF1
	nop; not filled.
L3_LF1:
	xori	r5,r5,1
	sub	r4,r0,r4
L4_LF1:
	addi	r2,r0,0
	sgti	r1,r31,0
	beqz	r1,L7_LF1
	nop; not filled.
L9_LF1:
	andi	r1,r31,1
	beqz	r1,L10_LF1
	nop; not filled.
	sll	r1,r4,r2
	add	r3,r3,r1
L10_LF1:
	srai	r31,r31,0x1
	addi	r2,r2,1
	sgti	r1,r31,0
	bnez	r1,L9_LF1
	nop; not filled.
L7_LF1:
	andi	r1,r5,0x00ff
	snei	r1,r1,0
	beqz	r1,L12_LF1
	nop; not filled.
	sub	r3,r0,r3
L12_LF1:
	add	r1,r0,r3
L13_LF1:
	lw	r2,0(r29)
	lw	r3,4(r29)
	lw	r4,8(r29)
	lw	r5,12(r29)
	lw	r31,-8(r30)
	add	r29,r0,r30
	lw	r30,-4(r30)
	jr	r31
	nop
.endproc _mult
.align 2
.proc _mm
.global _mm
_mm:
;  Function 'mm'; 0 bytes of locals, 16 regs to save.
	sw	-4(r29),r30; push fp
	add	r30,r0,r29; fp = sp
	sw	-8(r29),r31; push ret addr
	subui	r29,r29,72; alloc local storage
	sw	0(r29),r2
	sw	4(r29),r3
	sw	8(r29),r4
	sw	12(r29),r5
	sw	16(r29),r6
	sw	20(r29),r7
	sw	24(r29),r8
	sw	28(r29),r9
	sw	32(r29),r10
	sw	36(r29),r11
	sw	40(r29),r12
	sw	44(r29),r13
	sw	48(r29),r14
	sw	52(r29),r15
	sw	56(r29),r16
	sw	60(r29),r17
	lw	r16,4(r30)
	lw	r11,12(r30)
	addi	r12,r0,0
	slt	r1,r12,r11
	beqz	r1,L16_LF1
	nop; not filled.
	lw	r14,(r30)
	lw	r13,8(r30)
L18_LF1:
	addi	r9,r0,0
	slt	r1,r9,r11
	beqz	r1,L17_LF1
	nop; not filled.
	add	r15,r0,r14
	add	r7,r0,r13
	addi	r8,r0,0
L22_LF1:
	addi	r17,r0,0
	sw	(r7),r17
	addi	r31,r0,0
	slt	r1,r31,r11
	beqz	r1,L21_LF1
	nop; not filled.
	add	r10,r0,r8
	add	r6,r0,r7
	add	r5,r0,r15
	add	r4,r0,r16
L26_LF1:
	add	r1,r10,r4
	lw	r3,(r5)
	lw	r2,(r1)
	addi	r29,r29,-8
	sw	(r29),r3
	sw	4(r29),r2
	jal	_mult
	nop; delay slot nop
	addi	r29,r29,8
	add	r2,r0,r1
	lw	r1,(r6)
	add	r1,r1,r2
	sw	(r6),r1
	addi	r5,r5,4
	addi	r4,r4,40
	addi	r31,r31,1
	slt	r1,r31,r11
	bnez	r1,L26_LF1
	nop; not filled.
L21_LF1:
	addi	r7,r7,4
	addi	r8,r8,4
	addi	r9,r9,1
	slt	r1,r9,r11
	bnez	r1,L22_LF1
	nop; not filled.
L17_LF1:
	addi	r14,r14,40
	addi	r13,r13,40
	addi	r12,r12,1
	slt	r1,r12,r11
	bnez	r1,L18_LF1
	nop; not filled.
L16_LF1:
	lw	r2,0(r29)
	lw	r3,4(r29)
	lw	r4,8(r29)
	lw	r5,12(r29)
	lw	r6,16(r29)
	lw	r7,20(r29)
	lw	r8,24(r29)
	lw	r9,28(r29)
	lw	r10,32(r29)
	lw	r11,36(r29)
	lw	r12,40(r29)
	lw	r13,44(r29)
	lw	r14,48(r29)
	lw	r15,52(r29)
	lw	r16,56(r29)
	lw	r17,60(r29)
	lw	r31,-8(r30)
	add	r29,r0,r30
	lw	r30,-4(r30)
	jr	r31
	nop
.endproc _mm
.align 2
.proc _main
.global _main
_main:
;  Function 'main'; 0 bytes of locals, 0 regs to save.
	sw	-4(r29),r30; push fp
	add	r30,r0,r29; fp = sp
	sw	-8(r29),r31; push ret addr
	subui	r29,r29,8; alloc local storage
	jal	___main
	nop; not filled.
	addi	r5,r0,0
	lhi	r6,((_B)>>16)&0xffff
	addui	r6,r6,(_B)&0xffff
	lhi	r8,((_A)>>16)&0xffff
	addui	r8,r8,(_A)&0xffff
L34_LF1:
	add	r31,r0,r6
	add	r4,r0,r5
	add	r3,r0,r8
	add	r2,r0,r5
	addi	r7,r6,36
L38_LF1:
	sw	(r3),r2
	sw	(r31),r4
	addi	r31,r31,4
	addi	r4,r4,-1
	addi	r3,r3,4
	addi	r2,r2,1
	sle	r1,r31,r7
	bnez	r1,L38_LF1
	nop; not filled.
	addi	r6,r6,40
	addi	r8,r8,40
	addi	r5,r5,1
	slei	r1,r5,9
	bnez	r1,L34_LF1
	nop; not filled.
	addi	r29,r29,-16
	lhi	r9,((_A)>>16)&0xffff
	addui	r9,r9,(_A)&0xffff
	sw	(r29),r9
	lhi	r1,((_B)>>16)&0xffff
	addui	r1,r1,(_B)&0xffff
	sw	4(r29),r1
	lhi	r9,((_C)>>16)&0xffff
	addui	r9,r9,(_C)&0xffff
	sw	8(r29),r9
	addi	r9,r0,10
	sw	12(r29),r9
	jal	_mm
	nop; not filled.
	addi	r1,r0,0
	addi	r29,r29,16
	jal	_exit
	nop
.endproc _main
.data
.align 2
.global _A
_A:
.space 400
.align 2
.global _B
_B:
.space 400
.align 2
.global _C
_C:
.space 400
.text
.global _etext
_etext:
.align 3
.data
.global _edata
_edata:
